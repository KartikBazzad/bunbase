# BunBase Environment Variables
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# PostgreSQL (shared database)
# IMPORTANT: All database passwords below must match POSTGRES_PASSWORD since they connect to the same PostgreSQL instance
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_USER=bunadmin
POSTGRES_DB=bunbase_system

# Platform Database (uses same password as PostgreSQL)
PLATFORM_DB_PASSWORD=your-secure-password-here
PLATFORM_DB_USER=bunadmin
PLATFORM_DB_NAME=bunbase_system

# BunAuth Database (uses same password as PostgreSQL)
BUNAUTH_DB_PASSWORD=your-secure-password-here
BUNAUTH_DB_USER=bunadmin
BUNAUTH_DB_NAME=bunbase_system
POSTGRES_USER=bunadmin
POSTGRES_DB=bunbase_system

# MinIO Storage
# IMPORTANT: PLATFORM_MINIO_ACCESS_KEY and PLATFORM_MINIO_SECRET_KEY must match MINIO_ROOT_USER and MINIO_ROOT_PASSWORD
# since the platform service authenticates to MinIO using these root credentials
PLATFORM_MINIO_ACCESS_KEY=bunadmin
PLATFORM_MINIO_SECRET_KEY=your-secure-minio-password-here
MINIO_ROOT_USER=bunadmin
MINIO_ROOT_PASSWORD=your-secure-minio-password-here

# Tenant Auth JWT Secret (must be at least 32 bytes)
TENANTAUTH_JWT_SECRET=your-secure-jwt-secret-at-least-32-bytes-long

# BunKMS Master Key (32-byte key, base64 encoded)
# Generate with: openssl rand -base64 32
BUNKMS_MASTER_KEY=base64:your-base64-encoded-32-byte-master-key-here

# Grafana Admin Password
GF_SECURITY_ADMIN_PASSWORD=your-secure-grafana-password-here

# Security Configuration
PLATFORM_COOKIE_SECURE=false
PLATFORM_ENVIRONMENT=development

# Resource limits (cloud mode only; 0 or unset = unlimited)
PLATFORM_LIMITS_MAX_PROJECTS_PER_USER=5
PLATFORM_LIMITS_MAX_FUNCTIONS_PER_PROJECT=20
PLATFORM_LIMITS_MAX_API_TOKENS_PER_USER=10

# Bundoc limits (DoS protection; set on bundoc-server; 0 = unlimited)
BUNDOC_LIMITS_MAX_CONNECTIONS_PER_PROJECT=50
BUNDOC_LIMITS_MAX_EXECUTION_MS=30000
BUNDOC_LIMITS_MAX_SCAN_DOCS=1000000
# Max on-disk database size per project in bytes (e.g. 1GB = 1073741824)
BUNDOC_LIMITS_MAX_DATABASE_SIZE_BYTES=536870912
